<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
<link href="~/css/home_style.css" rel="stylesheet" />
@{
    ViewData["Title"] = "Web bán bé xem phim";
}

<!-- Slider -->
<div class="Slider">
    @await Html.PartialAsync("_SliderPartial")
</div>

<!-- Movie Section -->
<div class="row movieNowShowing">
    <div class="col-md-8">
        <div class="d-flex justify-content-between align-items-center">
            <h2 class="section-title">🎬 Phim đang chiếu</h2>
            <a href="#" class="section-link">Xem tất cả</a>
        </div>
        <div class="row">
            <!-- Movie Item -->
            <div class="col-md-3 col-6 movie-item">
                <img src="movie1.jpg" alt="Movie 1">
                <div class="movie-info">
                    <p>Tâm lý, tình cảm</p>
                    <small>01/11/2024</small>
                    <h6>NGÀY XƯA CÓ MỘT CHUYỆN TÌNH - T16</h6>
                </div>
            </div>
            <div class="col-md-3 col-6 movie-item">
                <img src="movie2.jpg" alt="Movie 2">
                <div class="movie-info">
                    <p>Khoa học viễn tưởng</p>
                    <small>25/10/2024</small>
                    <h6>VENOM: THE LAST DANCE - T13</h6>
                </div>
            </div>
            <div class="col-md-3 col-6 movie-item">
                <img src="movie3.jpg" alt="Movie 3">
                <div class="movie-info">
                    <p>Kinh dị</p>
                    <small>25/10/2024</small>
                    <h6>TRÒ CHƠI NHÂN TÍNH - T16</h6>
                </div>
            </div>
            <div class="col-md-3 col-6 movie-item">
                <img src="movie4.jpg" alt="Movie 4">
                <div class="movie-info">
                    <p>Kinh dị</p>
                    <small>25/10/2024</small>
                    <h6>ÁC QUỶ TRUY HỒN - T18</h6>
                </div>
            </div>
        </div>
    </div>

    <!-- Promotion Section -->
    <div class="col-md-4">
        <div class="d-flex justify-content-between align-items-center">
            <h2 class="section-title">Khuyến mãi</h2>
            <a href="#" class="section-link">Xem tất cả</a>
        </div>
        <div class="promotion-item">
            <img src="promo1.jpg" alt="Promotion 1">
        </div>
        <div class="promotion-item">
            <img src="promo2.jpg" alt="Promotion 2">
        </div>
        <div class="promotion-item">
            <img src="promo3.jpg" alt="Promotion 3">
        </div>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

@* lấy ra danh sách Slider(AdvModel), ProductCategory, MenuArrivals *@
<script type="text/javascript">
    toastr.options = {
        "closeButton": true, // Nút đóng
        "progressBar": true, // Hiển thị thanh tiến trình
        "positionClass": "toast-top-right", // Vị trí hiển thị
        "timeOut": "1000" // Thời gian hiển thị (ms)
    };

    $(document).ready(function () {
        $.ajax({
            url: '@Url.Action("MenuSlider", "Menu")',
            type: 'GET',
            success: function (data) {
                $('.Slider').prepend(data);
            },
            error: function () {
                console.log("Error loading slider menu");
            }
        });

        // $.ajax({
        //     url: '@Url.Action("MenuProductCategory", "Menu")',
        //     type: 'GET',
        //     success: function (data) {
        //         $('.Banner').prepend(data);
        //     },
        //     error: function () {
        //         console.log("Error loading product category menu");
        //     }
        // });

        // $.ajax({
        //     url: '@Url.Action("ProductArrival", "Product")',
        //     type: 'GET',
        //     success: function (data) {
        //         $('.Arrival').prepend(data);
        //     },
        //     error: function () {
        //         console.log("Error loading product arrival");
        //     }
        // });

        // $.ajax({
        //     url: '@Url.Action("ProductSeller", "Product")',
        //     type: 'GET',
        //     success: function (data) {
        //         $('.ProductBestSeller').prepend(data);
        //     },
        //     error: function () {
        //         console.log("Error loading product bestseller");
        //     }
        // });

        // $.ajax({
        //     url: '@Url.Action("MenuNews", "News")',
        //     type: 'GET',
        //     success: function (data) {
        //         $('.Blogs').prepend(data);
        //     },
        //     error: function () {
        //         console.log("Error loading blogs");
        //     }
        // });

        // $(document).on('click', '.btn_add_to_cart', function (event) {
        //     event.preventDefault();
        //     var id = $(this).data('id');
        //     $.ajax({
        //         url: '/Cart/Add',
        //         type: 'POST',
        //         data: { Id: id },
        //         success: function (response) {
        //             if (response.success) {
        //                 toastr.success(response.message);
        //             } else {
        //                 toastr.error(response.message);
        //             }
        //             loadCart();
        //         },
        //         error: function (xhr, status, error) {
        //             toastr.error('Có lỗi xảy ra khi thêm sản phẩm.');
        //         }
        //     });
        // });


        // function loadCart() {
        //     $.ajax({
        //         url: '@Url.Action("getAllCart", "Cart")',
        //         type: 'GET',
        //         success: function (data) {
        //             localStorage.setItem("Cart", JSON.stringify(data));
        //             var cartData = JSON.parse(localStorage.getItem("Cart"));
        //             var itemCount = cartData.cartItems.length;
        //             $('#checkout_items').text(itemCount);
        //         },
        //         error: function () {
        //             console.log("Error fetching cart data.");
        //         }
        //     });
        // }
    });
</script>

